flowchart TD
    %% 1. Acceso Encuestador
    subgraph Acceso["1. Acceso Encuestador"]
        direction TB
        A1[Campos de Entrada] --> A11["Nombre de Usuario\n(correo corporativo) [44,45]"]
        A1 --> A12["ContraseÃ±a [44,45]"]
        B1[Botones] --> B11["Iniciar SesiÃ³n"]
        B1 --> B12["Â¿OlvidÃ³ su contraseÃ±a? [44,46]"]
    end

    %% 2. Panel Principal
    subgraph Panel["2. Panel Principal"]
        direction TB
        A2["Bienvenido, [Nombre]!\nEstado: Online/Offline [7,48,49]"]
        B2[Formularios] --> B21["Censo Poblacional Rural 2025\nâ€¢ DescripciÃ³n: Datos demogrÃ¡ficos\nâ€¢ Progreso: 75% (Offline)"]
        B2 --> B22["Encuesta de Vivienda Rural\nâ€¢ DescripciÃ³n: Infraestructura\nâ€¢ Progreso: 20% (Online)"]
        C2[Botones] --> C21["Sincronizar Datos [7,49]"]
        C2 --> C22["âš™ï¸ ConfiguraciÃ³n"]
        C2 --> C23["ðŸšª Cerrar SesiÃ³n [50]"]
    end

    %% 3. Captura Offline
    subgraph Captura["3. Captura Offline"]
        direction TB
        A3["Estado: Offline [7,48,49]"]
        B3[Datos] --> B31["Nombre Completo: _______"]
        B3 --> B32["Documento: _______"]
        B3 --> B33["Edad: ___"]
        B3 --> B34["GÃ©nero: [ Masculino | Femenino | Otro ]"]
        C3[UbicaciÃ³n] --> C31["ðŸ“ Capturar GPS [7,8,42]"]
        D3[Archivos] --> D31["ðŸ“· Tomar Foto [7,8,42]"]
        D3 --> D32["ðŸ“„ Adjuntar Doc [7,8,42]"]
        E3[Botones] --> E31["ðŸ’¾ Guardar"]
        E3 --> E32["âŒ Cancelar"]
    end

    %% Flujo principal
    Acceso -->|Credenciales vÃ¡lidas| Panel
    Panel -->|Selecciona formulario| Captura
    Captura -->|Guardar| ConfirmaciÃ³n
    ConfirmaciÃ³n -->|Nuevo registro| Captura
    ConfirmaciÃ³n -->|Volver| Panel

    %% 4. ConfirmaciÃ³n
    subgraph ConfirmaciÃ³n["4. ConfirmaciÃ³n"]
        direction TB
        A4["âœ… Â¡Datos guardados!\nâ€¢ Registros pendientes: [X]\nâ€¢ SincronizaciÃ³n automÃ¡tica"]
        B4[Botones] --> B41["âœ¨ Nuevo Registro"]
        B4 --> B42["â† Volver al Panel"]
    end

    %% 5. SincronizaciÃ³n
    subgraph Sincro["5. SincronizaciÃ³n"]
        direction TB
        A5["Estado: Online\nâŒ› Sincronizando (2/5)\nâ±ï¸ Tiempo: X segundos"]
        B5["âœ”ï¸ SincronizaciÃ³n completa"]
        C5[Botones] --> C51["ðŸ“‹ Ver Registros"]
        C5 --> C52["â† Volver al Panel"]
    end

    %% Conexiones adicionales
    Panel -->|Sincronizar| Sincro
    Sincro -->|Volver| Panel
